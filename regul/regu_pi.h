/****************************************************** COMECA *******************************************************
 *  \author		tedie.cedric
 *  \date		6 avr. 2018
 *  \addtogroup	TODO
 *  \{
 ********************************************************************************************************************/
/*********************************************************************************************************************
 *  \file		regu_pi.h
 *  
 *  \brief		TODO
 *
 *  \details	
 *
 ********************************************************************************************************************/
#ifndef REGU_PI_H_
#define REGU_PI_H_

#ifdef __cplusplus
extern "C"
{
#endif

/* Includes --------------------------------------------------------------------------------------------------------*/
#include <stdint.h>
#include <stdbool.h>

/* Public Macro definition -----------------------------------------------------------------------------------------*/
/* Public Constant definition --------------------------------------------------------------------------------------*/
/* Public Type definition  -----------------------------------------------------------------------------------------*/

typedef struct
{
    float Kp;
    float Ki;

    float _error;
    float _error_sum;
    float _limit_high;
    float _limit_low;

    float *pConsigne;
    float *pMeasure;
    float output;

}pi_ctrl_t;

/* Public variables ------------------------------------------------------------------------------------------------*/
/* Public functions ------------------------------------------------------------------------------------------------*/
bool PI_Init(pi_ctrl_t *pi);
void PI_Run(pi_ctrl_t *pi);

#endif /* REGU_PI_H_ */

#ifdef __cplusplus
}
#endif

/** \} */
/******************************************************** EOF *******************************************************/
